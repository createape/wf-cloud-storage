{
    "sourceFile": "src/components/AuthButton.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764344487155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764344487155,
            "name": "Commit-0",
            "content": "import { authClient, useSession } from '../lib/auth-client';\r\n\r\nexport function AuthButton() {\r\n  const { data: session, isPending } = useSession();\r\n\r\n  const handleSignOut = async () => {\r\n    await authClient.signOut({\r\n      fetchOptions: {\r\n        onSuccess: () => {\r\n          window.location.href = '/ca/login';\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  if (isPending) {\r\n    return (\r\n      <div className=\"btn btn-ghost btn-sm loading\">Loading...</div>\r\n    );\r\n  }\r\n\r\n  if (session?.user) {\r\n    return (\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          {session.user.image && (\r\n            <div className=\"avatar\">\r\n              <div className=\"w-8 rounded-full\">\r\n                <img src={session.user.image} alt={session.user.name || 'User'} />\r\n              </div>\r\n            </div>\r\n          )}\r\n          <span className=\"text-sm\">{session.user.name || session.user.email}</span>\r\n        </div>\r\n        <button \r\n          onClick={handleSignOut}\r\n          className=\"btn btn-ghost btn-sm\"\r\n        >\r\n          Sign Out\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <a href=\"/ca/login\" className=\"btn btn-primary btn-sm\">\r\n      Sign In\r\n    </a>\r\n  );\r\n}\r\n"
        }
    ]
}