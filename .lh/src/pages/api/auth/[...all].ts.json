{
    "sourceFile": "src/pages/api/auth/[...all].ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764443175327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764443175327,
            "name": "Commit-0",
            "content": "import type { APIRoute } from \"astro\";\r\nimport { createAuth } from \"../../../lib/auth\";\r\n\r\nconst handleAuth: APIRoute = async ({ request, locals }) => {\r\n    const env = (locals.runtime as any).env;\r\n\r\n    try {\r\n        const auth = createAuth({\r\n            GOOGLE_CLIENT_ID: env.GOOGLE_CLIENT_ID,\r\n            GOOGLE_CLIENT_SECRET: env.GOOGLE_CLIENT_SECRET,\r\n            BETTER_AUTH_SECRET: env.BETTER_AUTH_SECRET,\r\n            ORIGIN: env.ORIGIN,\r\n        });\r\n\r\n        return auth.handler(request);\r\n    } catch (error) {\r\n        console.error(\"Auth handler error:\", error);\r\n        return new Response(\"Auth error\", { status: 500 });\r\n    }\r\n};\r\n\r\nexport const GET: APIRoute = handleAuth;\r\nexport const POST: APIRoute = handleAuth;\r\n"
        }
    ]
}